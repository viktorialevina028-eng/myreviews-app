<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–û—Ç–∑—ã–≤—ã</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div class="sidebar">
    <div class="item active">üó£ –û—Ç–∑—ã–≤—ã</div>
  </div>

  <div class="content">
    <h2>–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>

    <div id="reviews-list">
      <div class="review"><p><strong>–ê–Ω–Ω–∞:</strong> –û—á–µ–Ω—å –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å, –±—É–¥—É –∑–∞–∫–∞–∑—ã–≤–∞—Ç—å —Å–Ω–æ–≤–∞!</p></div>
      <div class="review"><p><strong>–ú–∞—Ä–∏—è:</strong> –û—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏ –±—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ üëç</p></div>
      <div class="review"><p><strong>–û–ª–µ–≥:</strong> –í—Å—ë —Å—É–ø–µ—Ä, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é!</p></div>
    </div>

    <div class="leave">
      <h3>–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</h3>
      <input id="name" placeholder="–ò–º—è" />
      <textarea id="text" placeholder="–¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞"></textarea>
      <button id="send">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      <p id="msg" class="msg"></p>
    </div>
  </div>

<script>
  const tg = window.Telegram.WebApp;
  try { tg.expand(); } catch(e){}

  document.getElementById('send').addEventListener('click', () => {
    const name = document.getElementById('name').value.trim() || '–ê–Ω–æ–Ω–∏–º';
    const text = document.getElementById('text').value.trim();
    const msg = document.getElementById('msg');

    if (!text) {
      msg.textContent = '–ù–∞–ø–∏—à–∏ —Ç–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞';
      return;
    }

    const div = document.createElement('div');
    div.className = 'review';
    div.innerHTML = `<p><strong>${escapeHtml(name)}:</strong> ${escapeHtml(text)}</p>`;
    document.getElementById('reviews-list').prepend(div);

    document.getElementById('name').value = '';
    document.getElementById('text').value = '';
    msg.textContent = '–°–ø–∞—Å–∏–±–æ! –û—Ç–∑—ã–≤ –¥–æ–±–∞–≤–ª–µ–Ω.';
    setTimeout(() => msg.textContent = '', 3000);
  });

  function escapeHtml(s) {
    return s.replace(/[&<>"']/g, m => ({
      '&':'&amp;', '<':'&lt;', '>':'&gt;',
      '"':'&quot;', "'":'&#39;'
    }[m]));
  }
</script>

</body>
</html>
